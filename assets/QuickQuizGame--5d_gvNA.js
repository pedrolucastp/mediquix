import{u as e,S as a}from"./SelectorsComponent-Cw4VZ0c4.js";import{u as l,G as u}from"./GamePerksMenu-LuGFlCVD.js";import{_ as n,B as t}from"./index-cXKaoF06.js";import{r as o,c as i,o as v,G as s,j as r,g as c,k as d,m,x as f,t as p,F as k,s as h,b as g,e as b,n as y}from"./vue-vendor-COnmh5Ey.js";import"./firebase-B6Q9gzvC.js";import"./fontawesome-IKCYsCpo.js";const w={class:"quiz"},C={key:0,id:"quiz-container"},P={id:"timer"},x={id:"time"},_={id:"question"},j={id:"options"},I=["disabled","onClick"],z={key:0,class:"completion-message"},q=n({__name:"QuickQuizGame",setup(n){const q=o(0),G=o(7),Q=o([]),S=o(!0),F=o([]),M=o("7"),N=o(!1),W=o(!1),A=o([]),B=o(!1),D=o(0),E=o(0);let J=null;const R=e(),{awardPoints:V,usePerk:H}=l(),K=i((()=>Q.value[q.value]));function L(e){return e.sort((()=>Math.random()-.5))}function O(){if(clearInterval(J),q.value>=Q.value.length)return alert("Você completou o quiz!"),void Z();W.value=!1,N.value=!1,A.value=[],K.value&&(F.value=function(e){const a=[e],l=R.filteredWords.filter((a=>a.word!==e)).map((e=>e.word));for(L(l);a.length<4&&l.length>0;)a.push(l.pop());return L(a)}(K.value.word),A.value=F.value.map((()=>"")),G.value=7,M.value="7",function(){let e=1e3*G.value;J=setInterval((()=>{e-=10,M.value=(e/1e3).toFixed(0),e<=0&&(clearInterval(J),T(null),W.value=!0,N.value=!0)}),10)}())}function T(e,a=null){if(clearInterval(J),!K.value)return;const l=K.value.word;null!==e&&(e===l&&null!==a?(A.value[a]="#2ecc71",E.value++):null!==a&&(A.value[a]="#e74c3c")),F.value.forEach(((a,u)=>{a===l&&(A.value[u]=null===e?"#ffd700":"#2ecc71")})),W.value=!0,N.value=!0}async function U(){q.value++,q.value>=Q.value.length?await async function(){S.value=!1,B.value=!0;const e=E.value===Q.value.length,a=calculateGamePoints(E.value,e);await V(a),D.value=a}():(G.value=7,O())}async function X(e){await H(e)&&("skip"===e?U():"extra_time"===e&&(G.value+=30))}function Y(){q.value=0;const e=R.filteredWords;if(0===e.length)return alert("Nenhuma questão encontrada com os critérios selecionados."),void(S.value=!1);Q.value=L([...e]).slice(0,10),S.value=!0,G.value=7,O()}function Z(){clearInterval(J),S.value=!1,B.value=!1,D.value=0,E.value=0,q.value=0,Y()}return v((()=>{Y()})),s((()=>{clearInterval(J)})),(e,l)=>(b(),r("div",w,[l[3]||(l[3]=c("h1",null,"Quiz Rápido",-1)),d(a,{onSpecialtyChange:Z,onDifficultyChange:Z}),d(u,{availablePerks:["skip","extra_time"],onPerkActivated:X}),c("div",null,[S.value?(b(),r("div",C,[c("div",P,[c("span",x,p(M.value),1),l[0]||(l[0]=f("s "))]),c("div",_,p(K.value?.clue),1),c("ul",j,[(b(!0),r(k,null,h(F.value,((e,a)=>(b(),r("li",{key:a},[c("button",{disabled:W.value,style:y({backgroundColor:A.value[a]}),onClick:l=>T(e,a)},p(e),13,I)])))),128))]),N.value?(b(),r("button",{key:0,id:"next-button",onClick:U}," Próxima Pergunta ")):m("",!0)])):m("",!0)]),B.value?(b(),r("div",z,[l[2]||(l[2]=c("h3",null,"Quiz Completo!",-1)),c("p",null,"Pontos ganhos: "+p(D.value),1),d(t,{variant:"primary",onClick:Z},{default:g((()=>l[1]||(l[1]=[f("Jogar Novamente")]))),_:1})])):m("",!0)]))}},[["__scopeId","data-v-4b2f9eb5"]]);export{q as default};
//# sourceMappingURL=QuickQuizGame--5d_gvNA.js.map
