{"version":3,"file":"GameContainer-DhlnUXE4.js","sources":["../../src/composables/useGamePoints.js","../../src/components/game/GameMenuBar.vue","../../src/components/game/GameContainer.vue"],"sourcesContent":["import { computed } from 'vue';\nimport { usePointsStore } from '@/store/points';\n\n// Point values for different game actions\nexport const POINTS_CONFIG = {\n  WORD_FOUND: 2,         // Finding a word in word search or completing in crosswords\n  GAME_COMPLETION: 10,   // Finishing any game\n  PERFECT_SCORE: 15,     // Perfect game (no mistakes, fast completion, etc)\n  TIME_BONUS: 5,         // Completing within time limit\n  PERK_COSTS: {\n    hint: 5,\n    extra_time: 3,\n    skip: 8,\n    open_third_card: 6\n  }\n};\n\nexport function useGamePoints() {\n  const pointsStore = usePointsStore();\n  const totalPoints = computed(() => pointsStore.totalPoints);\n\n  async function awardPoints(amount) {\n    await pointsStore.addPoints(amount);\n  }\n\n  async function usePerk(perkId) {\n    const cost = POINTS_CONFIG.PERK_COSTS[perkId];\n    if (!cost || totalPoints.value < cost) {\n      return false;\n    }\n    await pointsStore.usePoints(cost);\n    return true;\n  }\n\n  return {\n    points: totalPoints,\n    POINTS_CONFIG,\n    awardPoints,\n    usePerk\n  };\n}","<template>\n  <div class=\"game-menu-bar\">\n    <div class=\"menu-section\">\n      <button class=\"menu-button perks-button\" @click=\"showPerksModal = true\">\n        <font-awesome-icon icon=\"star\" />\n        <span class=\"points-display\">{{ points }} pts</span>\n      </button>\n    </div>\n\n    <div class=\"menu-section\">\n      <button class=\"menu-button\" @click=\"showSettingsModal = true\">\n        <font-awesome-icon icon=\"cog\" />\n      </button>\n    </div>\n\n    <div class=\"menu-section\">\n      <button class=\"menu-button\" @click=\"showInfoModal = true\">\n        <font-awesome-icon icon=\"info-circle\" />\n      </button>\n    </div>\n  </div>\n\n  <BaseModal v-model=\"showPerksModal\" title=\"Perks Disponíveis\">\n    <div class=\"perks-content\">\n      <div class=\"points-info\">\n        <p class=\"points-total\">Seus pontos: {{ points }}</p>\n      </div>\n      \n      <div class=\"perks-grid\">\n        <div v-for=\"perk in perks\" :key=\"perk.id\" class=\"perk-item\">\n          <button \n            class=\"perk-button\" \n            :class=\"{ 'perk-button--disabled': points < perk.cost }\"\n            @click=\"activatePerk(perk.id)\"\n            :disabled=\"points < perk.cost\"\n          >\n            <font-awesome-icon :icon=\"perk.icon\" size=\"lg\" />\n            <div class=\"perk-info\">\n              <span class=\"perk-name\">{{ perk.name }}</span>\n              <span class=\"perk-cost\">{{ perk.cost }} pts</span>\n            </div>\n            <p class=\"perk-description\">{{ perk.description }}</p>\n          </button>\n        </div>\n      </div>\n    </div>\n  </BaseModal>\n\n  <BaseModal v-model=\"showSettingsModal\" title=\"Configurações do Jogo\">\n    <div class=\"settings-content\">\n      <SelectorsComponent @specialty-change=\"onSpecialtyChange\" @difficulty-change=\"onDifficultyChange\" />\n      <div class=\"game-settings\">\n        <slot name=\"settings\"></slot>\n      </div>\n    </div>\n  </BaseModal>\n\n  <BaseModal v-model=\"showInfoModal\" title=\"Como Jogar\">\n    <div class=\"info-content\">\n      <div class=\"game-info\">\n        <p>{{ gameInstructions }}</p>\n      </div>\n      <slot name=\"info\"></slot>\n    </div>\n  </BaseModal>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue';\nimport BaseModal from '../base/BaseModal.vue';\nimport SelectorsComponent from '../SelectorsComponent.vue';\nimport { useGamePoints } from '@/composables/useGamePoints';\n\nconst props = defineProps({\n  gameInstructions: {\n    type: String,\n    required: true\n  },\n  availablePerks: {\n    type: Array,\n    required: true\n  }\n});\n\nconst emit = defineEmits(['specialty-change', 'difficulty-change', 'perk-activated']);\n\nconst showSettingsModal = ref(false);\nconst showInfoModal = ref(false);\nconst showPerksModal = ref(false);\n\nconst { points, POINTS_CONFIG } = useGamePoints();\n\nconst PERK_DETAILS = {\n  hint: {\n    id: 'hint',\n    name: 'Dica',\n    description: 'Revela uma letra ou parte da resposta',\n    icon: 'lightbulb',\n    cost: POINTS_CONFIG.PERK_COSTS.hint\n  },\n  extra_time: {\n    id: 'extra_time',\n    name: 'Tempo Extra',\n    description: '+30 segundos de tempo',\n    icon: 'clock',\n    cost: POINTS_CONFIG.PERK_COSTS.extra_time\n  },\n  skip: {\n    id: 'skip',\n    name: 'Pular',\n    description: 'Pula para a próxima questão',\n    icon: 'forward',\n    cost: POINTS_CONFIG.PERK_COSTS.skip\n  },\n  open_third_card: {\n    id: 'open_third_card',\n    name: 'Terceira Carta',\n    description: 'Permite abrir três cartas simultaneamente',\n    icon: 'layer-group',\n    cost: POINTS_CONFIG.PERK_COSTS.open_third_card\n  }\n};\n\nconst perks = computed(() => \n  props.availablePerks.map(perkId => PERK_DETAILS[perkId])\n);\n\nfunction onSpecialtyChange(value) {\n  emit('specialty-change', value);\n}\n\nfunction onDifficultyChange(value) {\n  emit('difficulty-change', value);\n}\n\nfunction activatePerk(perkId) {\n  emit('perk-activated', perkId);\n  showPerksModal.value = false;\n}\n</script>\n\n<style scoped>\n.game-menu-bar {\n  display: flex;\n  gap: var(--spacing-md);\n  margin-bottom: var(--spacing-md);\n  position: relative;\n  justify-content: center;\n}\n\n.menu-section {\n  position: relative;\n}\n\n.menu-button {\n  padding: var(--spacing-sm);\n  background: var(--surface-color);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  color: var(--text-color);\n  transition: all 0.2s ease;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.perks-button {\n  width: auto;\n  padding: var(--spacing-sm) var(--spacing-md);\n  gap: var(--spacing-sm);\n}\n\n.points-display {\n  font-weight: 600;\n  color: var(--primary-color);\n}\n\n.menu-button:hover {\n  background: var(--background-color);\n  border-color: var(--primary-color);\n}\n\n.settings-content,\n.info-content,\n.perks-content {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-lg);\n}\n\n.game-info {\n  color: var(--text-color);\n  line-height: 1.6;\n}\n\n.game-info p {\n  margin: 0;\n  white-space: pre-line;\n}\n\n.points-info {\n  text-align: center;\n  padding: var(--spacing-md);\n  background: var(--background-color);\n  border-radius: var(--radius-md);\n}\n\n.points-total {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--primary-color);\n  margin: 0;\n}\n\n.perks-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: var(--spacing-md);\n}\n\n.perk-item {\n  display: flex;\n}\n\n.perk-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md);\n  width: 100%;\n  background: var(--surface-color);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: var(--text-color);\n}\n\n.perk-button:hover:not(.perk-button--disabled) {\n  background: var(--background-color);\n  border-color: var(--primary-color);\n  transform: translateY(-2px);\n}\n\n.perk-button--disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.perk-info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.perk-name {\n  font-weight: 600;\n  font-size: 1.1rem;\n}\n\n.perk-cost {\n  font-size: 0.9rem;\n  color: var(--primary-color);\n}\n\n.perk-description {\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  text-align: center;\n  margin: 0;\n}\n\n/* Dark mode support */\n:deep(.dark) .menu-button {\n  background: var(--dark-surface-color);\n  border-color: var(--dark-border-color);\n  color: var(--dark-text-color);\n}\n\n:deep(.dark) .menu-button:hover {\n  background: var(--dark-background-color);\n  border-color: var(--dark-primary-color);\n}\n\n:deep(.dark) .game-info {\n  color: var(--dark-text-color);\n}\n\n:deep(.dark) .points-info {\n  background: var(--dark-background-color);\n}\n\n:deep(.dark) .perk-button {\n  background: var(--dark-surface-color);\n  border-color: var(--dark-border-color);\n  color: var(--dark-text-color);\n}\n\n:deep(.dark) .perk-button:hover:not(.perk-button--disabled) {\n  background: var(--dark-background-color);\n  border-color: var(--dark-primary-color);\n}\n\n:deep(.dark) .perk-description {\n  color: var(--dark-text-secondary);\n}\n\n/* Responsive styles */\n@media (max-width: 768px) {\n  .perks-button {\n    padding: var(--spacing-sm);\n    width: 40px;\n  }\n  \n  .points-display {\n    display: none;\n  }\n}\n</style>","<template>\n  <div class=\"game-container\" :class=\"{ dark: isDarkMode }\">\n    <h1>{{ title }}</h1>\n    \n    <GameMenuBar\n      :gameInstructions=\"gameInstructions\"\n      :availablePerks=\"availablePerks\"\n      @specialty-change=\"handleSpecialtyChange\"\n      @difficulty-change=\"handleDifficultyChange\"\n    >\n      <template #settings>\n        <slot name=\"game-settings\"></slot>\n      </template>\n      <template #info>\n        <slot name=\"game-info\"></slot>\n      </template>\n    </GameMenuBar>\n\n    <div v-if=\"error\" class=\"error-message\">\n      {{ error }}\n    </div>\n\n    <div v-else-if=\"loading\" class=\"loading\">\n      <font-awesome-icon icon=\"circle-notch\" spin size=\"2x\" />\n      <p>Carregando...</p>\n    </div>\n\n    <div v-else class=\"game-content\">\n      <slot />\n    </div>\n\n    <div v-if=\"score !== undefined\" class=\"score-container\">\n      <p class=\"score\">Pontuação: {{ score }}</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, shallowRef, watch } from 'vue';\nimport { useUIStore } from '@/store/ui';\nimport GameMenuBar from './GameMenuBar.vue';\n\nconst props = defineProps({\n  title: {\n    type: String,\n    required: true\n  },\n  gameInstructions: {\n    type: String,\n    required: true\n  },\n  error: {\n    type: String,\n    default: ''\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  },\n  score: {\n    type: Number,\n    default: undefined\n  },\n  availablePerks: {\n    type: Array,\n    default: () => []\n  }\n});\n\nconst emit = defineEmits(['specialty-change', 'difficulty-change']);\n\nconst uiStore = useUIStore();\nconst isDarkMode = shallowRef(uiStore.isDarkMode);\n\nwatch(() => uiStore.isDarkMode, (newValue) => {\n  isDarkMode.value = newValue;\n}, { flush: 'post' });\n\nfunction handleSpecialtyChange(value) {\n  emit('specialty-change', value);\n}\n\nfunction handleDifficultyChange(value) {\n  emit('difficulty-change', value);\n}\n</script>\n\n<style scoped>\n.game-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: var(--spacing-md);\n  overflow: auto;\n}\n\nh1 {\n  margin-bottom: var(--spacing-md);\n  color: var(--text-color);\n  text-align: center;\n}\n\n.game-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.error-message {\n  color: var(--error-color);\n  text-align: center;\n  padding: var(--spacing-md);\n  margin: var(--spacing-md) 0;\n  border: 1px solid var(--error-color);\n  border-radius: var(--radius-md);\n  background-color: var(--surface-color);\n}\n\n.loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--spacing-sm);\n  color: var(--text-secondary);\n  margin: var(--spacing-xl) 0;\n}\n\n.loading p {\n  margin: 0;\n}\n\n.score-container {\n  margin-top: var(--spacing-md);\n  text-align: center;\n}\n\n.score {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--primary-color);\n  margin: 0;\n}\n\n/* Dark mode styles */\n.dark h1 {\n  color: var(--dark-text-color);\n}\n\n.dark .error-message {\n  background-color: var(--dark-surface-color);\n}\n\n.dark .loading {\n  color: var(--dark-text-secondary);\n}\n\n.dark .score {\n  color: var(--dark-primary-color);\n}\n\n/* Responsive styles */\n@media (max-width: 768px) {\n  .game-container {\n    padding: var(--spacing-sm);\n    justify-content: flex-start;\n  }\n}\n</style>"],"names":["POINTS_CONFIG","WORD_FOUND","GAME_COMPLETION","PERFECT_SCORE","TIME_BONUS","PERK_COSTS","hint","extra_time","skip","open_third_card","useGamePoints","pointsStore","usePointsStore","totalPoints","computed","points","awardPoints","async","amount","addPoints","usePerk","perkId","cost","value","usePoints","props","__props","emit","__emit","showSettingsModal","ref","showInfoModal","showPerksModal","PERK_DETAILS","id","name","description","icon","perks","availablePerks","map","onSpecialtyChange","onDifficultyChange","uiStore","useUIStore","isDarkMode","shallowRef","handleSpecialtyChange","handleDifficultyChange","watch","newValue","flush"],"mappings":"yOAIO,MAAMA,EAAgB,CAC3BC,WAAY,EACZC,gBAAiB,GACjBC,cAAe,GACfC,WAAY,EACZC,WAAY,CACVC,KAAM,EACNC,WAAY,EACZC,KAAM,EACNC,gBAAiB,IAId,SAASC,IACd,MAAMC,EAAcC,IACdC,EAAcC,GAAS,IAAMH,EAAYE,cAexC,MAAA,CACLE,OAAQF,EACRb,gBACAgB,YAhBFC,eAA2BC,SACnBP,EAAYQ,UAAUD,EAChC,EAeIE,QAbFH,eAAuBI,GACf,MAAAC,EAAOtB,EAAcK,WAAWgB,GACtC,SAAKC,GAAQT,EAAYU,MAAQD,WAG3BX,EAAYa,UAAUF,IACrB,EACX,EAQA,8oBCiCA,MAAMG,EAAQC,EAWRC,EAAOC,EAEPC,EAAoBC,GAAI,GACxBC,EAAgBD,GAAI,GACpBE,EAAiBF,GAAI,IAErBf,OAAEA,EAAQf,cAAAA,GAAkBU,IAE5BuB,EAAe,CACnB3B,KAAM,CACJ4B,GAAI,OACJC,KAAM,OACNC,YAAa,wCACbC,KAAM,YACNf,KAAMtB,EAAcK,WAAWC,MAEjCC,WAAY,CACV2B,GAAI,aACJC,KAAM,cACNC,YAAa,wBACbC,KAAM,QACNf,KAAMtB,EAAcK,WAAWE,YAEjCC,KAAM,CACJ0B,GAAI,OACJC,KAAM,QACNC,YAAa,8BACbC,KAAM,UACNf,KAAMtB,EAAcK,WAAWG,MAEjCC,gBAAiB,CACfyB,GAAI,kBACJC,KAAM,iBACNC,YAAa,4CACbC,KAAM,cACNf,KAAMtB,EAAcK,WAAWI,kBAI7B6B,EAAQxB,GAAS,IACrBW,EAAMc,eAAeC,KAAcnB,GAAAY,EAAaZ,OAGlD,SAASoB,EAAkBlB,GACzBI,EAAK,mBAAoBJ,EAC3B,CAEA,SAASmB,EAAmBnB,GAC1BI,EAAK,oBAAqBJ,EAC5B,sxBAEsBF,OACpBM,EAAK,iBAAkBN,QACvBW,EAAeT,OAAQ,GAFzB,IAAsBF,mrCClEtB,MAAMM,EAAOC,EAEPe,EAAUC,IACVC,EAAaC,EAAWH,EAAQE,YAMtC,SAASE,EAAsBxB,GAC7BI,EAAK,mBAAoBJ,EAC3B,CAEA,SAASyB,EAAuBzB,GAC9BI,EAAK,oBAAqBJ,EAC5B,QAVA0B,GAAM,IAAMN,EAAQE,aAAaK,IAC/BL,EAAWtB,MAAQ2B,CAAA,GAClB,CAAEC,MAAO"}