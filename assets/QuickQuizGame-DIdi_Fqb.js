import{u as e,G as a}from"./GameContainer-DhlnUXE4.js";import{r as t,o as l,_ as u,c as o,w as s,a as n,b as r,d as i,e as v,f as c,g as d,h as p,t as m,F as f,i as g,n as w,j as k,k as T}from"./index-Bi7IGgfb.js";import{u as h}from"./SelectorsComponent-3Jm0--dW.js";const b={class:"game-content"},C={key:0,class:"score-container"},_={class:"progress-bar"},y={class:"word-display"},P={class:"options-container"},R=["onClick","disabled"],G={key:0,class:"feedback-container"},x={key:0},I=u({__name:"QuickQuizGame",setup(u){const I=t(!1),O=t(0),S=t(10),L=t(10),E=t([]),F=t(!0),N=t(""),U=t(!1),j=t(!1),q=t(""),A=t(!1),D=t(100),z=t(0),M=t(0),Q=t(0),W=t(!1),$=t(!1),V=h(),{POINTS_CONFIG:B,awardPoints:H}=e(),{timeLeft:J,startTimer:K,pauseTimer:X,resetTimer:Y}=function(e={}){const{initialTime:a=60,tickRate:u=10,onTimeUp:o=()=>{},autoStart:s=!1}=e,n=t(a),r=t(a.toString());let i=null;function v(){c();let e=1e3*n.value;i=setInterval((()=>{e-=u,n.value=e/1e3,r.value=(e/1e3).toFixed(0),e<=0&&(c(),o())}),u)}function c(){i&&(clearInterval(i),i=null)}return s&&v(),l((()=>{c()})),{timeLeft:n,timerDisplay:r,startTimer:v,pauseTimer:function(){c()},resetTimer:function(){c(),n.value=a,r.value=a.toString()},clearTimer:c}}({initialTime:S.value,onTimeUp:()=>{U.value||(U.value=!0,$.value=!0,j.value=!1,q.value="Tempo esgotado! A resposta correta era: "+Z.value.word)}}),Z=o((()=>E.value[O.value])),ee=o((()=>Z.value?te([...Z.value.options]):[])),ae=o((()=>E.value.length-O.value));function te(e){return e.sort((()=>Math.random()-.5))}function le(){O.value=0;const e=V.filteredWords;if(0===e.length)return alert("Nenhuma questão encontrada com os critérios selecionados."),void(F.value=!1);const a=te([...e]).slice(0,L.value);E.value=a.map((a=>({...a,options:ue(a,e)}))),F.value=!0,oe()}function ue(e,a){const t=[e.word],l=te(a.filter((a=>a.word!==e.word)).map((e=>e.word))).slice(0,3);return te([...t,...l])}function oe(){N.value="",U.value=!1,j.value=!1,q.value="",A.value=O.value===E.value.length-1,D.value=100,$.value=!1,Y(),K()}function se(e){U.value||$.value||(N.value=e,X(),function(){if(!Z.value)return;U.value=!0,j.value=N.value.trim().toLowerCase()===Z.value.word.toLowerCase(),q.value=j.value?"Resposta correta!":`Resposta incorreta! A resposta correta era: ${Z.value.word}`,j.value&&(Q.value++,z.value+=B.correctAnswer)}())}function ne(){A.value?async function(){F.value=!1,W.value=!0;const e=Q.value===E.value.length,a=function(e,a){let t=e*B.WORD_FOUND;a&&(t+=B.PERFECT_SCORE);return t+B.GAME_COMPLETION}(Q.value,e);await H(a),M.value=a}():(O.value++,oe())}return s(J,(e=>{D.value=e/S.value*100})),s(S,(e=>{Y()})),n((()=>{le()})),r((()=>{})),(e,t)=>(v(),i(a,{title:"Quiz Rápido",gameInstructions:"Responda as questões em tempo limitado!\n- Leia a pergunta e digite a resposta\n- Ganhe 2 pontos por resposta correta\n- Ganhe 10 pontos por completar o quiz\n- Ganhe 15 pontos de bônus por acertar todas\n- Use 'skip' (8 pts) para pular uma questão\n- Use 'extra_time' (3 pts) para +30 segundos",loading:I.value,score:z.value,availablePerks:["skip","extra_time"],onSpecialtyChange:le,onDifficultyChange:le},{default:c((()=>[d("div",b,[Z.value?(v(),p(f,{key:1},[d("div",_,[d("div",{class:"timer",style:w({width:`${D.value}%`})},null,4)]),d("div",y,[d("h2",null,m(Z.value.clue),1)]),d("div",P,[(v(!0),p(f,null,k(ee.value,(e=>(v(),p("button",{key:e,class:T(["option-button",{selected:N.value===e,correct:U.value&&!$.value&&e===Z.value.word,incorrect:U.value&&!$.value&&N.value===e&&e!==Z.value.word,"timeout-correct":$.value&&e===Z.value.word,"timeout-incorrect":$.value&&e!==Z.value.word}]),onClick:a=>se(e),disabled:U.value||$.value},m(e),11,R)))),128))]),U.value||$.value?(v(),p("div",G,[d("p",{class:T({"feedback-correct":j.value,"feedback-incorrect":!j.value})},m(q.value),3),j.value?(v(),p("p",x,"Pontos ganhos: "+m(M.value),1)):g("",!0),d("button",{class:"next-button",onClick:ne},m(A.value?"Ver Resultados":"Próxima Palavra"),1)])):g("",!0)],64)):(v(),p("div",C,[d("p",null,"Total de pontos: "+m(z.value),1),d("p",null,"Palavras restantes: "+m(ae.value),1)]))])])),_:1},8,["loading","score"]))}},[["__scopeId","data-v-0c8d8cc4"]]);export{I as default};
//# sourceMappingURL=QuickQuizGame-DIdi_Fqb.js.map
