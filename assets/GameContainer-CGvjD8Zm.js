import{J as e,c as a,_ as s,r as t,h as i,e as n,g as o,p as l,l as c,t as r,G as d,f as u,F as p,j as m,k as v,E as g,m as f,u as k,s as _,w as y,i as C}from"./index-DycFYX5g.js";import{S as h}from"./SelectorsComponent-DHaawGjy.js";const P={WORD_FOUND:2,GAME_COMPLETION:10,PERFECT_SCORE:15,TIME_BONUS:5,PERK_COSTS:{hint:5,extra_time:3,skip:8,open_third_card:6}};function S(){const s=e(),t=a((()=>s.points));return{points:t,POINTS_CONFIG:P,awardPoints:async function(e){await s.addPoints(e)},usePerk:async function(e){const a=P.PERK_COSTS[e];return!(!a||t.value<a)&&(await s.deductPoints(a),!0)}}}const b={class:"game-menu-bar"},O={class:"menu-section"},E={class:"points-display"},I={class:"menu-section"},T={class:"menu-section"},R={class:"perks-content"},x={class:"points-info"},V={class:"points-total"},D={class:"perks-grid"},N=["onClick","disabled"],w={class:"perk-info"},G={class:"perk-name"},K={class:"perk-cost"},M={class:"perk-description"},q={class:"settings-content"},F={class:"game-settings"},U={class:"info-content"},$={class:"game-info"},j=s({__name:"GameMenuBar",props:{gameInstructions:{type:String,required:!0},availablePerks:{type:Array,required:!0}},emits:["specialty-change","difficulty-change","perk-activated"],setup(e,{emit:s}){const k=e,_=s,y=t(!1),C=t(!1),P=t(!1),{points:j,POINTS_CONFIG:A}=S(),B={hint:{id:"hint",name:"Dica",description:"Revela uma letra ou parte da resposta",icon:"lightbulb",cost:A.PERK_COSTS.hint},extra_time:{id:"extra_time",name:"Tempo Extra",description:"+30 segundos de tempo",icon:"clock",cost:A.PERK_COSTS.extra_time},skip:{id:"skip",name:"Pular",description:"Pula para a próxima questão",icon:"forward",cost:A.PERK_COSTS.skip},open_third_card:{id:"open_third_card",name:"Terceira Carta",description:"Permite abrir três cartas simultaneamente",icon:"layer-group",cost:A.PERK_COSTS.open_third_card}},J=a((()=>k.availablePerks.map((e=>B[e]))));function z(e){_("specialty-change",e)}function L(e){_("difficulty-change",e)}return(a,s)=>{const t=c("font-awesome-icon");return n(),i(p,null,[o("div",b,[o("div",O,[o("button",{class:"menu-button perks-button",onClick:s[0]||(s[0]=e=>P.value=!0)},[l(t,{icon:"star"}),o("span",E,r(d(j))+" pts",1)])]),o("div",I,[o("button",{class:"menu-button",onClick:s[1]||(s[1]=e=>y.value=!0)},[l(t,{icon:"cog"})])]),o("div",T,[o("button",{class:"menu-button",onClick:s[2]||(s[2]=e=>C.value=!0)},[l(t,{icon:"info-circle"})])])]),l(g,{modelValue:P.value,"onUpdate:modelValue":s[3]||(s[3]=e=>P.value=e),title:"Perks Disponíveis"},{default:u((()=>[o("div",R,[o("div",x,[o("p",V,"Seus pontos: "+r(d(j)),1)]),o("div",D,[(n(!0),i(p,null,m(J.value,(e=>(n(),i("div",{key:e.id,class:"perk-item"},[o("button",{class:v(["perk-button",{"perk-button--disabled":d(j)<e.cost}]),onClick:a=>{return s=e.id,_("perk-activated",s),void(P.value=!1);var s},disabled:d(j)<e.cost},[l(t,{icon:e.icon,size:"lg"},null,8,["icon"]),o("div",w,[o("span",G,r(e.name),1),o("span",K,r(e.cost)+" pts",1)]),o("p",M,r(e.description),1)],10,N)])))),128))])])])),_:1},8,["modelValue"]),l(g,{modelValue:y.value,"onUpdate:modelValue":s[4]||(s[4]=e=>y.value=e),title:"Configurações do Jogo"},{default:u((()=>[o("div",q,[l(h,{onSpecialtyChange:z,onDifficultyChange:L}),o("div",F,[f(a.$slots,"settings",{},void 0,!0)])])])),_:3},8,["modelValue"]),l(g,{modelValue:C.value,"onUpdate:modelValue":s[5]||(s[5]=e=>C.value=e),title:"Como Jogar"},{default:u((()=>[o("div",U,[o("div",$,[o("p",null,r(e.gameInstructions),1)]),f(a.$slots,"info",{},void 0,!0)])])),_:3},8,["modelValue"])],64)}}},[["__scopeId","data-v-d52a23e6"]]),A={key:0,class:"error-message"},B={key:1,class:"loading"},J={key:2,class:"game-content"},z={key:3,class:"score-container"},L={class:"score"},W=s({__name:"GameContainer",props:{title:{type:String,required:!0},gameInstructions:{type:String,required:!0},error:{type:String,default:""},loading:{type:Boolean,default:!1},score:{type:Number,default:void 0},availablePerks:{type:Array,default:()=>[]}},emits:["specialty-change","difficulty-change"],setup(e,{emit:a}){const s=a,t=k(),d=_(t.isDarkMode);function p(e){s("specialty-change",e)}function m(e){s("difficulty-change",e)}return y((()=>t.isDarkMode),(e=>{d.value=e}),{flush:"post"}),(a,s)=>{const t=c("font-awesome-icon");return n(),i("div",{class:v(["game-container",{dark:d.value}])},[o("h1",null,r(e.title),1),l(j,{gameInstructions:e.gameInstructions,availablePerks:e.availablePerks,onSpecialtyChange:p,onDifficultyChange:m},{settings:u((()=>[f(a.$slots,"game-settings",{},void 0,!0)])),info:u((()=>[f(a.$slots,"game-info",{},void 0,!0)])),_:3},8,["gameInstructions","availablePerks"]),e.error?(n(),i("div",A,r(e.error),1)):e.loading?(n(),i("div",B,[l(t,{icon:"circle-notch",spin:"",size:"2x"}),s[0]||(s[0]=o("p",null,"Carregando...",-1))])):(n(),i("div",J,[f(a.$slots,"default",{},void 0)])),void 0!==e.score?(n(),i("div",z,[o("p",L,"Pontuação: "+r(e.score),1)])):C("",!0)],2)}}},[["__scopeId","data-v-8025d00c"]]);export{W as G,S as u};
//# sourceMappingURL=GameContainer-CGvjD8Zm.js.map
