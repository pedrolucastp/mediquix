{"version":3,"file":"useGameState-VT9cnjiQ.js","sources":["../../src/composables/useGameState.js"],"sourcesContent":["import { ref, computed } from 'vue';\nimport { useVocabularyStore } from '@/store/vocabulary';\n\nexport function useGameState(options = {}) {\n  const {\n    minWords = 1,\n    maxWords = 10,\n    validateWord = () => true,\n    onInsufficientWords = () => {}\n  } = options;\n\n  const vocabularyStore = useVocabularyStore();\n  \n  const gameStarted = ref(false);\n  const gameWords = ref([]);\n  const score = ref(0);\n  const loading = ref(false);\n  const error = ref('');\n\n  const availableWords = computed(() => {\n    return vocabularyStore.filteredWords.filter(word => \n      word.isActive && validateWord(word)\n    );\n  });\n\n  function startGame() {\n    loading.value = true;\n    error.value = '';\n    \n    try {\n      if (availableWords.value.length < minWords) {\n        error.value = 'Não há palavras suficientes para iniciar o jogo. Por favor, ajuste os filtros.';\n        onInsufficientWords();\n        return false;\n      }\n\n      const shuffledWords = [...availableWords.value].sort(() => Math.random() - 0.5);\n      gameWords.value = shuffledWords.slice(0, maxWords);\n      score.value = 0;\n      gameStarted.value = true;\n      return true;\n    } catch (e) {\n      error.value = 'Ocorreu um erro ao iniciar o jogo.';\n      return false;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  function endGame() {\n    gameStarted.value = false;\n  }\n\n  function updateScore(points) {\n    score.value += points;\n  }\n\n  function resetGame() {\n    score.value = 0;\n    gameStarted.value = false;\n    gameWords.value = [];\n    error.value = '';\n  }\n\n  return {\n    // State\n    gameStarted,\n    gameWords,\n    score,\n    loading,\n    error,\n    availableWords,\n\n    // Actions\n    startGame,\n    endGame,\n    updateScore,\n    resetGame\n  };\n}"],"names":["useGameState","options","minWords","maxWords","validateWord","onInsufficientWords","vocabularyStore","useVocabularyStore","gameStarted","ref","gameWords","score","loading","error","availableWords","computed","filteredWords","filter","word","isActive","startGame","value","length","shuffledWords","sort","Math","random","slice","e","endGame","updateScore","points","resetGame"],"mappings":"oGAGO,SAASA,EAAaC,EAAU,IAC/B,MAAAC,SACJA,EAAW,EAAAC,SACXA,EAAW,GAAAC,aACXA,EAAe,KAAM,EAAAC,oBACrBA,EAAsB,QACpBJ,EAEEK,EAAkBC,IAElBC,EAAcC,GAAI,GAClBC,EAAYD,EAAI,IAChBE,EAAQF,EAAI,GACZG,EAAUH,GAAI,GACdI,EAAQJ,EAAI,IAEZK,EAAiBC,GAAS,IACvBT,EAAgBU,cAAcC,QACnCC,GAAAA,EAAKC,UAAYf,EAAac,OA2C3B,MAAA,CAELV,cACAE,YACAC,QACAC,UACAC,QACAC,iBAGAM,UAjDF,WACER,EAAQS,OAAQ,EAChBR,EAAMQ,MAAQ,GAEV,IACE,GAAAP,EAAeO,MAAMC,OAASpB,EAGzB,OAFPW,EAAMQ,MAAQ,iFACOhB,KACd,EAGH,MAAAkB,EAAgB,IAAIT,EAAeO,OAAOG,MAAK,IAAMC,KAAKC,SAAW,KAIpE,OAHPhB,EAAUW,MAAQE,EAAcI,MAAM,EAAGxB,GACzCQ,EAAMU,MAAQ,EACdb,EAAYa,OAAQ,GACb,CACR,OAAQO,GAEA,OADPf,EAAMQ,MAAQ,sCACP,CACb,CAAc,QACRT,EAAQS,OAAQ,CACtB,CACA,EA4BIQ,QA1BF,WACErB,EAAYa,OAAQ,CACxB,EAyBIS,YAvBF,SAAqBC,GACnBpB,EAAMU,OAASU,CACnB,EAsBIC,UApBF,WACErB,EAAMU,MAAQ,EACdb,EAAYa,OAAQ,EACpBX,EAAUW,MAAQ,GAClBR,EAAMQ,MAAQ,EAClB,EAiBA"}